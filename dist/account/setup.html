<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta content="width=device-width,initial-scale=1,shrink-to-fit=no" name="viewport"><meta content=" The official Boy Scout Troop 485 website. " name="description"><title>Troop 485 - Account Setup</title><link href="/fonts/typeface-raleway/index.css" rel="stylesheet"><link href="/fonts/typeface-lora/index.css" rel="stylesheet"><script defer="defer" async src="/fontawesome/js/fontawesome.min.js"></script><script defer="defer" async src="/fontawesome/js/regular.min.js"></script><link rel="apple-touch-icon" sizes="152x152" href="/favicons/apple-touch-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/favicons/apple-touch-icon-180x180.png"><link rel="icon" type="image/png" href="/favicons/favicon-16x16.png" sizes="16x16"><link href="/css/bootstrap.min.css" rel="stylesheet"><link href="/css/bootstrap-select.min.css" rel="stylesheet"><link href="/css/theme.css" rel="stylesheet"><link href="/css/t485.css" rel="stylesheet"><style>.list-group-item{background-color:transparent;border:none}</style><noscript><style>.noscript{display:block}.script-required,.storage-required{display:none}</style></noscript><style>.noscript,.nostorage{display:none}</style><script>try{localStorage.setItem("firebaseErrorTest","test")}catch(t){console.log(t),"The quota has been exceeded."===t.message&&document.write("\n\t\t\t\t\t.nostorage {\n\t\t\t\t\t\tdisplay:block;\n\t\t\t\t\t}\n\t\t\t\t\t.storage-required {\n\t\t\t\t\t\tdisplay:none;\n\t\t\t\t\t}")}</script></head><body><div class="content"><div class="text-center"><a href="/"><img src="/img/header.png" alt="Boy Scout Troop 485" id="header"></a></div><div id="alertBox"></div><nav class="navbar navbar-expand-lg navbar-light py-lg-4" id="navbar"><div class="container"><a class="navbar-brand text-uppercase text-expanded font-weight-bold d-lg-none" href="/">Troop 485</a> <button aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation" class="navbar-toggler" data-target="#navbarResponsive" data-toggle="collapse" type="button"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarResponsive"><ul class="navbar-nav mx-auto"><li class="nav-item px-lg-3"><a class="nav-link text-uppercase text-expanded" href="/">Home</a></li><li class="nav-item px-lg-3"><a class="nav-link text-uppercase text-expanded" href="/calendar">Calendar</a></li><li class="nav-item px-lg-3"><a class="nav-link text-uppercase text-expanded" href="/directory">Directory</a></li><li class="nav-item px-lg-3"><a class="nav-link text-uppercase text-expanded" href="/event-pages">Event Pages</a></li><li class="nav-item px-lg-3"><a class="nav-link text-uppercase text-expanded" href="/pictures">Pictures</a></li><li class="nav-item dropdown px-lg-4"><a class="nav-link dropdown-toggle text-uppercase text-expanded" data-toggle="dropdown" href="#" role="button">About</a><div class="dropdown-menu"><a class="dropdown-item" href="/about/faq">FAQ</a> <a class="dropdown-item" href="/about/merit-badges">Merit Badges</a></div></li><li class="nav-item dropdown px-lg-4"><a aria-expanded="false" aria-haspopup="true" class="nav-link dropdown-toggle text-uppercase text-expanded" data-toggle="dropdown" href="#" id="account-dropdown" role="button">Account</a><div aria-labelledby="account-dropdown" class="dropdown-menu"><div class="nostorage"><h6 class="dropdown-header">Accounts are not supported in private Safari or Chrome iOS.</h6></div><div class="noscript"><h6 class="dropdown-header">Javascript is required for accounts.</h6></div><div class="storage-required"><h6 class="dropdown-header" id="acct-dd-status"><span id="acct-dd-status-notloggedin" class="lo-show">You are not logged in.</span> <span id="acct-dd-status-loggedin" class="li-show hidden">Logged in as <b id="acct-dd-status-loggedin-username" class="user-displayname">loading...</b>.</span></h6><a class="li-show dropdown-item preserve-page" href="/account/">Profile</a> <a class="lo-show dropdown-item preserve-page" href="/account/login">Login</a><div class="dropdown-divider li-show"></div><a class="li-show dropdown-item preserve-page" href="/account/logout">Logout</a></div></div></li></ul></div></div></nav><div class="container" id="mainContainer"><div class="row col-lg-12 hidden" id="confirm-box"><div class="box w-100"><div class="col-lg-12"><h2 class="primary-heading">Confirm Synchronization</h2><p>This action may take a few minutes and you will not be able to leave the page until it is done.</p><button class="btn btn-danger btn-block">Update Account Data</button></div></div></div><div class="row col-lg-12 hidden" id="datareview-box"><div class="box w-100"><div class="col-lg-12"><h2 class="primary-heading">Hello, <span class="setup-user-firstName"></span></h2><p>Please confirm that this data is correct before proceeding.</p><ul class="list-group list-group-flush"><li class="list-group-item"><b>Name:</b> <span class="setup-user-firstName"></span> <span class="setup-user-lastName"></span></li><li class="list-group-item hidden if-scout"><b>Patrol:</b> <span class="setup-scout-patrol"></span></li><li class="list-group-item"><b>Email:</b> <span class="setup-user-email"></span></li><li class="list-group-item hidden if-scout"><b>Jobs:</b><ul class="setup-scout-job"></ul></li></ul><button class="btn btn-block btn-success" id="confirm">All Data is Correct</button><hr><p>If any part of the data is wrong, head to the <a class="link-google-sheet-dir" target="_blank">spreadsheet</a> and update your data. Then, <a onclick="window.location.reload()" class="link">reload this page</a>.</p></div></div></div><div class="row col-lg-12 hidden" id="saving-box"><div class="box w-100"><div class="col-lg-12"><h2 class="primary-heading">Saving Information</h2><p>Please do not reload or leave this page. This should take less than a minute.</p></div></div></div><div class="row col-lg-12 hidden" id="verify-box"><div class="box w-100"><div class="col-lg-12"><h2 class="primary-heading">Verify Your Email First!</h2><p>Before you may synchronize your account you must verify your email.</p></div></div></div><div class="row col-lg-12 hidden" id="success-box"><div class="box w-100"><div class="col-lg-12"><h2 class="primary-heading">Success!</h2><p>Your account has been fully set up.</p><a href="/">Return to the home page</a></div></div></div><div class="row col-lg-12 hidden" id="notfound-box"><div class="box w-100"><div class="col-lg-12"><h2 class="primary-heading">Email not found in directory!</h2><p>Your account email was not found in the T485 Directory. Please change your email on the directory (email the webmaster to get the link) or <a href="/account/settings.html#changeemail">update your email for your account</a>.</p><br><p class="text-muted text-center">This extra security step is taken to ensure that accounts belong only to members of T485. If you believe this was a mistake, please contact the webmaster.</p></div></div></div><div class="row col-lg-12" id="loading-box"><div class="box w-100"><div class="col-lg-12"><h2 class="primary-heading">Gathering account information</h2><p>Please wait while we load your account information...</p></div></div></div></div><div class="feedback-box script-required"><button class="btn feedback-btn" id="feedback-btn">Feedback</button></div><div class="feedback-box noscript"><a class="btn feedback-btn" id="feedback-btn-noscript" href="mailto:jeffmeng7@gmail.com?subject=T485.org%20-%20Feedback%20(noscript)">Feedback</a></div><a class="scroll-to-top to-top-btn" style="display:none;"><i class="far fa-arrow-circle-up fa-2x"></i></a><div class="container hidden" id="unexpectederror"><div class="row"><div class="box"><div class="col-lg-12"><h2 class="error">An Unexpected Error Occured</h2><p>Please report this bug or try again in a few minutes. <b>Code <span id="unexpectederror-code">UNKNOWN_ERROR_DTNR</span></b></p></div></div></div></div></div><footer class="footer text-faded text-center py-5"><div class="container"><p class="m-0 small">Copyright &copy; 2006-2019 Troop 485, Silicon Valley Monterey Bay Council, Boy Scouts of America.</p></div></footer><div class="modal fade script-required" id="feedback-modal" tabindex="-1" role="dialog" aria-hidden="true"><div class="modal-dialog modal-lg" role="document"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="exampleModalLongTitle">Feedback</h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div><div class="modal-body" id="feedback-main"><h3>First things first</h3><div class="form-group"><label for="fb-name">Your Name:</label> <input type="text" class="form-control" id="fb-name"><div class="invalid-feedback">Your name is required.</div></div><div class="form-group"><label for="fb-email">Your Email:</label> <input type="email" class="form-control" id="fb-email"><div class="invalid-feedback">You must enter a valid email.</div></div><label>Issue Type:</label> <select class="selectpicker mb-3 form-control" id="issueType"><option value="bug" selected="selected">I want to report a bug.</option><option value="feature">I have a feature request.</option><option value="other">I need help using the website.</option><option value="other">Other - I want to send a message to the webmaster.</option></select><div class="feedback-section feedback-bug collapse show"><h3>Tell us more</h3><div class="form-group"><label for="bug-title">Bug title:</label> <input type="text" class="form-control" id="bug-title"> <small id="bug-title-help" class="form-text text-muted">Give a short description of the bug. <b class="float-right"><span id="bug-title-length">10</span><span id="bug-title-unit"> characters to go</span></b></small><div class="invalid-feedback">You must enter a longer bug title.</div></div><div class="form-group"><label for="bug-description">Description (optional):</label> <textarea class="form-control" id="bug-description" rows="5"></textarea> <small id="description-help" class="form-text text-muted">For some bugs, it's helpful to include steps for reproduction of the bug (what did you do to get the bug?) <b class="float-right"><span id="bug-description-length">0</span><span id="bug-description-unit"> / 5000</span></b></small><div class="invalid-feedback">You must enter a description less than 5,000 characters.</div></div><div class="form-group"><label for="bug-affected-pages">Affected Pages (optional):</label> <textarea class="form-control" id="bug-affected-pages" rows="5"></textarea> <small id="bug-affected-pages-help" class="form-text text-muted">Enter the URL, the page name (e.g. directory), or <i>Whole Website</i> <b class="float-right"><span id="bug-affected-pages-length">0</span><span id="bug-affected-pages-unit"> / 500</span></b></small><div class="invalid-feedback">You must enter a list of affected pages less than 500 characters.</div></div><div class="form-group" id="bug-file-group"><label for="bug-file">Screenshot (optional):</label><div class="input-group mb-3"><div class="input-group-prepend"><span class="input-group-text" id="bug-file-addon">Upload</span></div><div class="custom-file"><input type="file" class="custom-file-input" id="bug-file" aria-describedby="bug-file-addon"> <label class="custom-file-label" for="bug-file">Choose File</label><div class="invalid-feedback">Your file must be less than 100 MB.</div></div></div><small id="bug-file-help" class="form-text text-muted">Videos work too! Upload any image or video less than 100MB, or <a id="bug-file-clear" class="link">clear the file input</a>. For larger files, please allow up to 10 seconds for the file to be processed before submitting.</small></div><p>Do not include private information in your bug report, such as passwords.</p></div><div class="feedback-section feedback-feature collapse"><h3>Tell us more</h3><div class="form-group"><label for="feat-title">Feature title:</label> <input type="text" class="form-control" id="feat-title"> <small id="feat-title-help" class="form-text text-muted">Give a short description of the feature -- a name is perfect. <b class="float-right"><span id="feat-title-length">10</span><span id="feat-title-unit"> characters to go</span></b></small><div class="invalid-feedback">You must enter a feature title.</div></div><div class="form-group"><label for="bug-description">Description (optional):</label> <textarea class="form-control" id="feat-description"></textarea> <small id="feat-description-help" class="form-text text-muted">For some bugs, it's helpful to include steps for reproduction of the bug (what did you do to get the bug?) <b class="float-right"><span id="feat-description-length">0</span><span id="feat-description-unit"> / 5000</span></b></small></div></div><div class="feedback-section feedback-other collapse">Please contact us at <a href="https://t485.slack.com/messages/C94MDTWTH/">#website</a> on slack(recommended) or email the webmaster at <a href="mailto:webmaster@t485.org">webmaster@t485.org</a>.<br></div></div><div class="modal-body hidden" id="feedback-loading"><h3>Submitting your report</h3><p>Please do not reload this page.</p><div class="progress hidden" id="feedback-progress"><div class="progress-bar" id="feedback-progressbar" role="progressbar" style="width: 0%;" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">0%</div></div><p class="upload-control"><a id="upload-control-pause" class="link">Pause the upload</a> <a id="upload-control-resume" class="hidden link">Resume the upload</a> | <a id="upload-control-cancel" class="link">Cancel the upload and return to feedback</a></p></div><div class="modal-body hidden" id="feedback-cancelled"><h3>Report cancelled</h3><p>Your data was not uploaded because of a network interruption.</p><a onclick="window.location.reload();" class="link">New report</a></div><div class="modal-body hidden" id="feedback-error"><h3>An unknown error occurred</h3><p>Please email this text to the webmaster:</p><div class="card"><div class="card-body"><p id="feedback-error-data"></p></div></div></div><div class="modal-body hidden" id="feedback-filechangederror"><h3>File changed</h3><p>The file was moved or edited, so the operation was cancelled. Please create a <a onclick="window.location.href = window.location.pathname + '#feedback';">new report</a>.</p></div><div class="modal-body hidden" id="feedback-done"><h3>Report submitted</h3><p>You should receive an response soon. You can also contact us on slack at <a href="https://t485.slack.com/messages/C94MDTWTH/">#website</a>.</p><a onclick="window.location.reload();" class="link">New report</a></div><div class="modal-footer"><div class="uploading-hide"><small class="text-muted feedback-other-hide feedback-hide feedback-submit-hide">We automatically include diagnostic data such as your browser type with your report.</small> <button type="button" class="btn btn-primary feedback-other-hide feedback-hide feedback-submit-hide" id="feedback-submit">Submit</button> <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button></div><small class="uploading-show hidden done-hide">Uploading...</small> <button type="button" class="btn btn-secondary hidden done-show" data-dismiss="modal">Close</button></div></div></div></div><script src="https://www.gstatic.com/firebasejs/5.5.3/firebase-app.js"></script><script src="https://www.gstatic.com/firebasejs/5.5.3/firebase-auth.js"></script><script src="https://www.gstatic.com/firebasejs/5.5.3/firebase-database.js"></script><script src="https://www.gstatic.com/firebasejs/5.5.3/firebase-storage.js"></script><script>var config={apiKey:"AIzaSyB-ly8ax35aWTAGhX2UDVuYxPSDlAU8kMk",authDomain:"t485-main.firebaseapp.com",databaseURL:"https://t485-main.firebaseio.com",projectId:"t485-main",storageBucket:"t485-main.appspot.com",messagingSenderId:"368513727602"};firebase.initializeApp(config);</script><script src="/js/jquery.min.js"></script><script src="/js/popper.min.js"></script><script src="/js/bootstrap.min.js"></script><script src="/js/bootstrap-select.min.js"></script><script src="/js/utils.js"></script><script src="/js/logger.js"></script><script src="/js/t485.js"></script><script>var scoutArrayKeymap=[["scout","firstName"],["scout","lastName"],["scout","email"],["scout","homePhone"],["scout","slack"],["scout","job"],["scout","joinDate"],["scout","active"],["scout","WFATrained"],["scout","school"],["scout","cellPhone"],["father","firstName"],["father","lastName"],["father","cellPhone"],["father","email"],["father","slack"],["mother","firstName"],["mother","lastName"],["mother","cellPhone"],["mother","email"],["mother","slack"]],userKeymap=["scout","father","mother"];function handleUserData(e,a,t,s){console.log(e),console.log(s);var o=[];for(let e=0;e<userKeymap.length;e++)$(".if-"+userKeymap[e]).removeClass("hidden"),$(".ifnot-"+userKeymap[e]).addClass("hidden");for($(".setup-scout-patrol").text(t),i=0;i<scoutArrayKeymap.length;i++)if("job"!=scoutArrayKeymap[i][1])$(".setup-"+scoutArrayKeymap[i][0]+"-"+scoutArrayKeymap[i][1]).text(e[i]),scoutArrayKeymap[i][0]==userKeymap[s]&&$(".setup-user-"+scoutArrayKeymap[i][1]).text(e[i]);else{split=e[i].split(","),console.log(100,split);for(let e=0;e<split.length;e++)$(".setup-"+scoutArrayKeymap[i][0]+"-"+scoutArrayKeymap[i][1]).append(`<li>${split[e]}</li>`),o.push(split[e].trim().toLowerCase())}$("#loading-box").addClass("hidden"),$("#datareview-box").removeClass("hidden"),$("#confirm").click(function(){if(0===s)firebase.database().ref("/users/"+a.uid+"/data/").set({lastUpdated:{utc:(new Date).getTime(),string:Date()+""},name:{first:e[0],last:e[1]},email:e[2],jobs:o,spreadSheetData:e,type:"Scout"}).then(function(){$("#datareview-box").addClass("hidden"),$("#success-box").removeClass("hidden")});else{let t=6+5*s;firebase.database().ref("/users/"+a.uid+"/data/").set({lastUpdated:{utc:(new Date).getTime(),string:Date()+""},name:{first:e[t],last:e[t+1]},email:e[t+2],type:1==s?"Father":"Mother",spreadSheetData:e}).then(function(){$("#datareview-box").addClass("hidden"),$("#success-box").removeClass("hidden")})}})}firebase.auth().onAuthStateChanged(function(e){e?e.emailVerified?($("#error").html(""),firebase.database().ref("/directory/keys/").once("value").then(function(a){var t=a.val();for($(".link-google-sheet-dir").attr("href",`https://docs.google.com/spreadsheets/d/${t.id}/edit`),rangeString="",i=0;i<t.sheets.length;i++)rangeString+=`ranges=${t.sheets[i]}!A2:U&`;Object.freeze({STUDENT:1,FATHER:2,MOTHER:3});console.log(1),$.ajax({url:`https://sheets.googleapis.com/v4/spreadsheets/${t.id}/values:batchGet/?${rangeString}majorDimension=ROWS&valueRenderOption=FORMATTED_VALUE&key=${t.api}`,method:"GET",dataType:"json"}).done(function(a){$("#loading-text").addClass("hidden");var s=a.valueRanges,o=!1;for(let a=0;a<s.length;a++){var r=s[a].values,i=t.sheets[a];for(let a=0;a<r.length;a++)r[a][2]==e.email?(handleUserData(r[a],e,i,0),o=!0):r[a][14]==e.email?(handleUserData(r[a],e,i,1),o=!0):r[a][19]==e.email&&(handleUserData(r[a],e,i,2),o=!0)}o||($("#loading-box").addClass("hidden"),$("#notfound-box").removeClass("hidden"))})})):($("#loading-box").addClass("hidden"),$("#verify-box").removeClass("hidden")):window.location.href="/account/login"});</script></body></html>